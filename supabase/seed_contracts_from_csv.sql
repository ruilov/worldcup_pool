do $$
declare
  v_challenge_id uuid;
begin
  select id into v_challenge_id from public.challenges where code = 'default';
  if v_challenge_id is null then
    raise exception 'No challenge with code=default found';
  end if;

  -- Clear existing contracts (cascade removes contract_challenge_states)
  delete from public.contracts;

  -- Insert default winner/goal_difference/score contracts for each match
  with match_refs(match_number, team1_name, team2_name, kickoff_at, contract_type, blind) as (
    values
    (1, 'Mexico', 'South Africa', '2026-06-11 15:00:00-04'::timestamptz, 'winner', 10),
    (1, 'Mexico', 'South Africa', '2026-06-11 15:00:00-04'::timestamptz, 'goal_difference', 30),
    (1, 'Mexico', 'South Africa', '2026-06-11 15:00:00-04'::timestamptz, 'score', 50),
    (2, 'South Korea', 'UEFA playoff D winner', '2026-06-11 22:00:00-04'::timestamptz, 'winner', 10),
    (2, 'South Korea', 'UEFA playoff D winner', '2026-06-11 22:00:00-04'::timestamptz, 'goal_difference', 30),
    (2, 'South Korea', 'UEFA playoff D winner', '2026-06-11 22:00:00-04'::timestamptz, 'score', 50),
    (3, 'Canada', 'UEFA playoff A winner', '2026-06-12 15:00:00-04'::timestamptz, 'winner', 10),
    (3, 'Canada', 'UEFA playoff A winner', '2026-06-12 15:00:00-04'::timestamptz, 'goal_difference', 30),
    (3, 'Canada', 'UEFA playoff A winner', '2026-06-12 15:00:00-04'::timestamptz, 'score', 50),
    (4, 'United States', 'Paraguay', '2026-06-12 21:00:00-04'::timestamptz, 'winner', 10),
    (4, 'United States', 'Paraguay', '2026-06-12 21:00:00-04'::timestamptz, 'goal_difference', 30),
    (4, 'United States', 'Paraguay', '2026-06-12 21:00:00-04'::timestamptz, 'score', 50),
    (5, 'Qatar', 'Switzerland', '2026-06-13 15:00:00-04'::timestamptz, 'winner', 10),
    (5, 'Qatar', 'Switzerland', '2026-06-13 15:00:00-04'::timestamptz, 'goal_difference', 30),
    (5, 'Qatar', 'Switzerland', '2026-06-13 15:00:00-04'::timestamptz, 'score', 50),
    (6, 'Brazil', 'Morocco', '2026-06-13 18:00:00-04'::timestamptz, 'winner', 10),
    (6, 'Brazil', 'Morocco', '2026-06-13 18:00:00-04'::timestamptz, 'goal_difference', 30),
    (6, 'Brazil', 'Morocco', '2026-06-13 18:00:00-04'::timestamptz, 'score', 50),
    (7, 'Haiti', 'Scotland', '2026-06-13 21:00:00-04'::timestamptz, 'winner', 10),
    (7, 'Haiti', 'Scotland', '2026-06-13 21:00:00-04'::timestamptz, 'goal_difference', 30),
    (7, 'Haiti', 'Scotland', '2026-06-13 21:00:00-04'::timestamptz, 'score', 50),
    (8, 'Australia', 'UEFA playoff C winner', '2026-06-14 0:00:00-04'::timestamptz, 'winner', 10),
    (8, 'Australia', 'UEFA playoff C winner', '2026-06-14 0:00:00-04'::timestamptz, 'goal_difference', 30),
    (8, 'Australia', 'UEFA playoff C winner', '2026-06-14 0:00:00-04'::timestamptz, 'score', 50),
    (9, 'Germany', 'Curacao', '2026-06-14 13:00:00-04'::timestamptz, 'winner', 10),
    (9, 'Germany', 'Curacao', '2026-06-14 13:00:00-04'::timestamptz, 'goal_difference', 30),
    (9, 'Germany', 'Curacao', '2026-06-14 13:00:00-04'::timestamptz, 'score', 50),
    (10, 'Netherlands', 'Japan', '2026-06-14 16:00:00-04'::timestamptz, 'winner', 10),
    (10, 'Netherlands', 'Japan', '2026-06-14 16:00:00-04'::timestamptz, 'goal_difference', 30),
    (10, 'Netherlands', 'Japan', '2026-06-14 16:00:00-04'::timestamptz, 'score', 50),
    (11, 'Ivory Coast', 'Ecuador', '2026-06-14 19:00:00-04'::timestamptz, 'winner', 10),
    (11, 'Ivory Coast', 'Ecuador', '2026-06-14 19:00:00-04'::timestamptz, 'goal_difference', 30),
    (11, 'Ivory Coast', 'Ecuador', '2026-06-14 19:00:00-04'::timestamptz, 'score', 50),
    (12, 'UEFA playoff B winner', 'Tunisia', '2026-06-14 22:00:00-04'::timestamptz, 'winner', 10),
    (12, 'UEFA playoff B winner', 'Tunisia', '2026-06-14 22:00:00-04'::timestamptz, 'goal_difference', 30),
    (12, 'UEFA playoff B winner', 'Tunisia', '2026-06-14 22:00:00-04'::timestamptz, 'score', 50),
    (13, 'Spain', 'Cape Verde', '2026-06-15 12:00:00-04'::timestamptz, 'winner', 10),
    (13, 'Spain', 'Cape Verde', '2026-06-15 12:00:00-04'::timestamptz, 'goal_difference', 30),
    (13, 'Spain', 'Cape Verde', '2026-06-15 12:00:00-04'::timestamptz, 'score', 50),
    (14, 'Belgium', 'Egypt', '2026-06-15 15:00:00-04'::timestamptz, 'winner', 10),
    (14, 'Belgium', 'Egypt', '2026-06-15 15:00:00-04'::timestamptz, 'goal_difference', 30),
    (14, 'Belgium', 'Egypt', '2026-06-15 15:00:00-04'::timestamptz, 'score', 50),
    (15, 'Saudi Arabia', 'Uruguay', '2026-06-15 18:00:00-04'::timestamptz, 'winner', 10),
    (15, 'Saudi Arabia', 'Uruguay', '2026-06-15 18:00:00-04'::timestamptz, 'goal_difference', 30),
    (15, 'Saudi Arabia', 'Uruguay', '2026-06-15 18:00:00-04'::timestamptz, 'score', 50),
    (16, 'Iran', 'New Zealand', '2026-06-15 21:00:00-04'::timestamptz, 'winner', 10),
    (16, 'Iran', 'New Zealand', '2026-06-15 21:00:00-04'::timestamptz, 'goal_difference', 30),
    (16, 'Iran', 'New Zealand', '2026-06-15 21:00:00-04'::timestamptz, 'score', 50),
    (17, 'France', 'Senegal', '2026-06-16 15:00:00-04'::timestamptz, 'winner', 10),
    (17, 'France', 'Senegal', '2026-06-16 15:00:00-04'::timestamptz, 'goal_difference', 30),
    (17, 'France', 'Senegal', '2026-06-16 15:00:00-04'::timestamptz, 'score', 50),
    (18, 'Inter-confederation playoff 2 winner', 'Norway', '2026-06-16 18:00:00-04'::timestamptz, 'winner', 10),
    (18, 'Inter-confederation playoff 2 winner', 'Norway', '2026-06-16 18:00:00-04'::timestamptz, 'goal_difference', 30),
    (18, 'Inter-confederation playoff 2 winner', 'Norway', '2026-06-16 18:00:00-04'::timestamptz, 'score', 50),
    (19, 'Argentina', 'Algeria', '2026-06-16 21:00:00-04'::timestamptz, 'winner', 10),
    (19, 'Argentina', 'Algeria', '2026-06-16 21:00:00-04'::timestamptz, 'goal_difference', 30),
    (19, 'Argentina', 'Algeria', '2026-06-16 21:00:00-04'::timestamptz, 'score', 50),
    (20, 'Austria', 'Jordan', '2026-06-17 0:00:00-04'::timestamptz, 'winner', 10),
    (20, 'Austria', 'Jordan', '2026-06-17 0:00:00-04'::timestamptz, 'goal_difference', 30),
    (20, 'Austria', 'Jordan', '2026-06-17 0:00:00-04'::timestamptz, 'score', 50),
    (21, 'Portugal', 'Inter-confederation playoff 1 winner', '2026-06-17 13:00:00-04'::timestamptz, 'winner', 10),
    (21, 'Portugal', 'Inter-confederation playoff 1 winner', '2026-06-17 13:00:00-04'::timestamptz, 'goal_difference', 30),
    (21, 'Portugal', 'Inter-confederation playoff 1 winner', '2026-06-17 13:00:00-04'::timestamptz, 'score', 50),
    (22, 'England', 'Croatia', '2026-06-17 16:00:00-04'::timestamptz, 'winner', 10),
    (22, 'England', 'Croatia', '2026-06-17 16:00:00-04'::timestamptz, 'goal_difference', 30),
    (22, 'England', 'Croatia', '2026-06-17 16:00:00-04'::timestamptz, 'score', 50),
    (23, 'Ghana', 'Panama', '2026-06-17 19:00:00-04'::timestamptz, 'winner', 10),
    (23, 'Ghana', 'Panama', '2026-06-17 19:00:00-04'::timestamptz, 'goal_difference', 30),
    (23, 'Ghana', 'Panama', '2026-06-17 19:00:00-04'::timestamptz, 'score', 50),
    (24, 'Uzbekistan', 'Colombia', '2026-06-17 22:00:00-04'::timestamptz, 'winner', 10),
    (24, 'Uzbekistan', 'Colombia', '2026-06-17 22:00:00-04'::timestamptz, 'goal_difference', 30),
    (24, 'Uzbekistan', 'Colombia', '2026-06-17 22:00:00-04'::timestamptz, 'score', 50),
    (25, 'UEFA playoff D winner', 'South Africa', '2026-06-18 12:00:00-04'::timestamptz, 'winner', 10),
    (25, 'UEFA playoff D winner', 'South Africa', '2026-06-18 12:00:00-04'::timestamptz, 'goal_difference', 30),
    (25, 'UEFA playoff D winner', 'South Africa', '2026-06-18 12:00:00-04'::timestamptz, 'score', 50),
    (26, 'Switzerland', 'UEFA playoff A winner', '2026-06-18 15:00:00-04'::timestamptz, 'winner', 10),
    (26, 'Switzerland', 'UEFA playoff A winner', '2026-06-18 15:00:00-04'::timestamptz, 'goal_difference', 30),
    (26, 'Switzerland', 'UEFA playoff A winner', '2026-06-18 15:00:00-04'::timestamptz, 'score', 50),
    (27, 'Canada', 'Qatar', '2026-06-18 18:00:00-04'::timestamptz, 'winner', 10),
    (27, 'Canada', 'Qatar', '2026-06-18 18:00:00-04'::timestamptz, 'goal_difference', 30),
    (27, 'Canada', 'Qatar', '2026-06-18 18:00:00-04'::timestamptz, 'score', 50),
    (28, 'Mexico', 'South Korea', '2026-06-18 21:00:00-04'::timestamptz, 'winner', 10),
    (28, 'Mexico', 'South Korea', '2026-06-18 21:00:00-04'::timestamptz, 'goal_difference', 30),
    (28, 'Mexico', 'South Korea', '2026-06-18 21:00:00-04'::timestamptz, 'score', 50),
    (29, 'United States', 'Australia', '2026-06-19 15:00:00-04'::timestamptz, 'winner', 10),
    (29, 'United States', 'Australia', '2026-06-19 15:00:00-04'::timestamptz, 'goal_difference', 30),
    (29, 'United States', 'Australia', '2026-06-19 15:00:00-04'::timestamptz, 'score', 50),
    (30, 'Scotland', 'Morocco', '2026-06-19 18:00:00-04'::timestamptz, 'winner', 10),
    (30, 'Scotland', 'Morocco', '2026-06-19 18:00:00-04'::timestamptz, 'goal_difference', 30),
    (30, 'Scotland', 'Morocco', '2026-06-19 18:00:00-04'::timestamptz, 'score', 50),
    (31, 'Brazil', 'Haiti', '2026-06-19 21:00:00-04'::timestamptz, 'winner', 10),
    (31, 'Brazil', 'Haiti', '2026-06-19 21:00:00-04'::timestamptz, 'goal_difference', 30),
    (31, 'Brazil', 'Haiti', '2026-06-19 21:00:00-04'::timestamptz, 'score', 50),
    (32, 'UEFA playoff C winner', 'Paraguay', '2026-06-20 0:00:00-04'::timestamptz, 'winner', 10),
    (32, 'UEFA playoff C winner', 'Paraguay', '2026-06-20 0:00:00-04'::timestamptz, 'goal_difference', 30),
    (32, 'UEFA playoff C winner', 'Paraguay', '2026-06-20 0:00:00-04'::timestamptz, 'score', 50),
    (33, 'Netherlands', 'UEFA playoff B winner', '2026-06-20 13:00:00-04'::timestamptz, 'winner', 10),
    (33, 'Netherlands', 'UEFA playoff B winner', '2026-06-20 13:00:00-04'::timestamptz, 'goal_difference', 30),
    (33, 'Netherlands', 'UEFA playoff B winner', '2026-06-20 13:00:00-04'::timestamptz, 'score', 50),
    (34, 'Germany', 'Ivory Coast', '2026-06-20 16:00:00-04'::timestamptz, 'winner', 10),
    (34, 'Germany', 'Ivory Coast', '2026-06-20 16:00:00-04'::timestamptz, 'goal_difference', 30),
    (34, 'Germany', 'Ivory Coast', '2026-06-20 16:00:00-04'::timestamptz, 'score', 50),
    (35, 'Ecuador', 'Curacao', '2026-06-20 20:00:00-04'::timestamptz, 'winner', 10),
    (35, 'Ecuador', 'Curacao', '2026-06-20 20:00:00-04'::timestamptz, 'goal_difference', 30),
    (35, 'Ecuador', 'Curacao', '2026-06-20 20:00:00-04'::timestamptz, 'score', 50),
    (36, 'Tunisia', 'Japan', '2026-06-21 0:00:00-04'::timestamptz, 'winner', 10),
    (36, 'Tunisia', 'Japan', '2026-06-21 0:00:00-04'::timestamptz, 'goal_difference', 30),
    (36, 'Tunisia', 'Japan', '2026-06-21 0:00:00-04'::timestamptz, 'score', 50),
    (37, 'Spain', 'Saudi Arabia', '2026-06-21 12:00:00-04'::timestamptz, 'winner', 10),
    (37, 'Spain', 'Saudi Arabia', '2026-06-21 12:00:00-04'::timestamptz, 'goal_difference', 30),
    (37, 'Spain', 'Saudi Arabia', '2026-06-21 12:00:00-04'::timestamptz, 'score', 50),
    (38, 'Belgium', 'Iran', '2026-06-21 15:00:00-04'::timestamptz, 'winner', 10),
    (38, 'Belgium', 'Iran', '2026-06-21 15:00:00-04'::timestamptz, 'goal_difference', 30),
    (38, 'Belgium', 'Iran', '2026-06-21 15:00:00-04'::timestamptz, 'score', 50),
    (39, 'Uruguay', 'Cape Verde', '2026-06-21 18:00:00-04'::timestamptz, 'winner', 10),
    (39, 'Uruguay', 'Cape Verde', '2026-06-21 18:00:00-04'::timestamptz, 'goal_difference', 30),
    (39, 'Uruguay', 'Cape Verde', '2026-06-21 18:00:00-04'::timestamptz, 'score', 50),
    (40, 'New Zealand', 'Egypt', '2026-06-21 21:00:00-04'::timestamptz, 'winner', 10),
    (40, 'New Zealand', 'Egypt', '2026-06-21 21:00:00-04'::timestamptz, 'goal_difference', 30),
    (40, 'New Zealand', 'Egypt', '2026-06-21 21:00:00-04'::timestamptz, 'score', 50),
    (41, 'Argentina', 'Austria', '2026-06-22 13:00:00-04'::timestamptz, 'winner', 10),
    (41, 'Argentina', 'Austria', '2026-06-22 13:00:00-04'::timestamptz, 'goal_difference', 30),
    (41, 'Argentina', 'Austria', '2026-06-22 13:00:00-04'::timestamptz, 'score', 50),
    (42, 'France', 'Inter-confederation playoff 2 winner', '2026-06-22 17:00:00-04'::timestamptz, 'winner', 10),
    (42, 'France', 'Inter-confederation playoff 2 winner', '2026-06-22 17:00:00-04'::timestamptz, 'goal_difference', 30),
    (42, 'France', 'Inter-confederation playoff 2 winner', '2026-06-22 17:00:00-04'::timestamptz, 'score', 50),
    (43, 'Norway', 'Senegal', '2026-06-22 20:00:00-04'::timestamptz, 'winner', 10),
    (43, 'Norway', 'Senegal', '2026-06-22 20:00:00-04'::timestamptz, 'goal_difference', 30),
    (43, 'Norway', 'Senegal', '2026-06-22 20:00:00-04'::timestamptz, 'score', 50),
    (44, 'Jordan', 'Algeria', '2026-06-22 23:00:00-04'::timestamptz, 'winner', 10),
    (44, 'Jordan', 'Algeria', '2026-06-22 23:00:00-04'::timestamptz, 'goal_difference', 30),
    (44, 'Jordan', 'Algeria', '2026-06-22 23:00:00-04'::timestamptz, 'score', 50),
    (45, 'Portugal', 'Uzbekistan', '2026-06-23 13:00:00-04'::timestamptz, 'winner', 10),
    (45, 'Portugal', 'Uzbekistan', '2026-06-23 13:00:00-04'::timestamptz, 'goal_difference', 30),
    (45, 'Portugal', 'Uzbekistan', '2026-06-23 13:00:00-04'::timestamptz, 'score', 50),
    (46, 'England', 'Ghana', '2026-06-23 16:00:00-04'::timestamptz, 'winner', 10),
    (46, 'England', 'Ghana', '2026-06-23 16:00:00-04'::timestamptz, 'goal_difference', 30),
    (46, 'England', 'Ghana', '2026-06-23 16:00:00-04'::timestamptz, 'score', 50),
    (47, 'Panama', 'Croatia', '2026-06-23 19:00:00-04'::timestamptz, 'winner', 10),
    (47, 'Panama', 'Croatia', '2026-06-23 19:00:00-04'::timestamptz, 'goal_difference', 30),
    (47, 'Panama', 'Croatia', '2026-06-23 19:00:00-04'::timestamptz, 'score', 50),
    (48, 'Colombia', 'Inter-confederation playoff 1 winner', '2026-06-23 22:00:00-04'::timestamptz, 'winner', 10),
    (48, 'Colombia', 'Inter-confederation playoff 1 winner', '2026-06-23 22:00:00-04'::timestamptz, 'goal_difference', 30),
    (48, 'Colombia', 'Inter-confederation playoff 1 winner', '2026-06-23 22:00:00-04'::timestamptz, 'score', 50),
    (49, 'Switzerland', 'Canada', '2026-06-24 15:00:00-04'::timestamptz, 'winner', 10),
    (49, 'Switzerland', 'Canada', '2026-06-24 15:00:00-04'::timestamptz, 'goal_difference', 30),
    (49, 'Switzerland', 'Canada', '2026-06-24 15:00:00-04'::timestamptz, 'score', 50),
    (50, 'UEFA playoff A winner', 'Qatar', '2026-06-24 15:00:00-04'::timestamptz, 'winner', 10),
    (50, 'UEFA playoff A winner', 'Qatar', '2026-06-24 15:00:00-04'::timestamptz, 'goal_difference', 30),
    (50, 'UEFA playoff A winner', 'Qatar', '2026-06-24 15:00:00-04'::timestamptz, 'score', 50),
    (51, 'Scotland', 'Brazil', '2026-06-24 18:00:00-04'::timestamptz, 'winner', 10),
    (51, 'Scotland', 'Brazil', '2026-06-24 18:00:00-04'::timestamptz, 'goal_difference', 30),
    (51, 'Scotland', 'Brazil', '2026-06-24 18:00:00-04'::timestamptz, 'score', 50),
    (52, 'Morocco', 'Haiti', '2026-06-24 18:00:00-04'::timestamptz, 'winner', 10),
    (52, 'Morocco', 'Haiti', '2026-06-24 18:00:00-04'::timestamptz, 'goal_difference', 30),
    (52, 'Morocco', 'Haiti', '2026-06-24 18:00:00-04'::timestamptz, 'score', 50),
    (53, 'UEFA playoff D winner', 'Mexico', '2026-06-24 21:00:00-04'::timestamptz, 'winner', 10),
    (53, 'UEFA playoff D winner', 'Mexico', '2026-06-24 21:00:00-04'::timestamptz, 'goal_difference', 30),
    (53, 'UEFA playoff D winner', 'Mexico', '2026-06-24 21:00:00-04'::timestamptz, 'score', 50),
    (54, 'South Africa', 'South Korea', '2026-06-24 21:00:00-04'::timestamptz, 'winner', 10),
    (54, 'South Africa', 'South Korea', '2026-06-24 21:00:00-04'::timestamptz, 'goal_difference', 30),
    (54, 'South Africa', 'South Korea', '2026-06-24 21:00:00-04'::timestamptz, 'score', 50),
    (55, 'Ecuador', 'Germany', '2026-06-25 16:00:00-04'::timestamptz, 'winner', 10),
    (55, 'Ecuador', 'Germany', '2026-06-25 16:00:00-04'::timestamptz, 'goal_difference', 30),
    (55, 'Ecuador', 'Germany', '2026-06-25 16:00:00-04'::timestamptz, 'score', 50),
    (56, 'Curacao', 'Ivory Coast', '2026-06-25 16:00:00-04'::timestamptz, 'winner', 10),
    (56, 'Curacao', 'Ivory Coast', '2026-06-25 16:00:00-04'::timestamptz, 'goal_difference', 30),
    (56, 'Curacao', 'Ivory Coast', '2026-06-25 16:00:00-04'::timestamptz, 'score', 50),
    (57, 'Japan', 'UEFA playoff B winner', '2026-06-25 19:00:00-04'::timestamptz, 'winner', 10),
    (57, 'Japan', 'UEFA playoff B winner', '2026-06-25 19:00:00-04'::timestamptz, 'goal_difference', 30),
    (57, 'Japan', 'UEFA playoff B winner', '2026-06-25 19:00:00-04'::timestamptz, 'score', 50),
    (58, 'Tunisia', 'Netherlands', '2026-06-25 19:00:00-04'::timestamptz, 'winner', 10),
    (58, 'Tunisia', 'Netherlands', '2026-06-25 19:00:00-04'::timestamptz, 'goal_difference', 30),
    (58, 'Tunisia', 'Netherlands', '2026-06-25 19:00:00-04'::timestamptz, 'score', 50),
    (59, 'UEFA playoff C winner', 'United States', '2026-06-25 22:00:00-04'::timestamptz, 'winner', 10),
    (59, 'UEFA playoff C winner', 'United States', '2026-06-25 22:00:00-04'::timestamptz, 'goal_difference', 30),
    (59, 'UEFA playoff C winner', 'United States', '2026-06-25 22:00:00-04'::timestamptz, 'score', 50),
    (60, 'Paraguay', 'Australia', '2026-06-25 22:00:00-04'::timestamptz, 'winner', 10),
    (60, 'Paraguay', 'Australia', '2026-06-25 22:00:00-04'::timestamptz, 'goal_difference', 30),
    (60, 'Paraguay', 'Australia', '2026-06-25 22:00:00-04'::timestamptz, 'score', 50),
    (61, 'Norway', 'France', '2026-06-26 15:00:00-04'::timestamptz, 'winner', 10),
    (61, 'Norway', 'France', '2026-06-26 15:00:00-04'::timestamptz, 'goal_difference', 30),
    (61, 'Norway', 'France', '2026-06-26 15:00:00-04'::timestamptz, 'score', 50),
    (62, 'Senegal', 'Inter-confederation playoff 2 winner', '2026-06-26 15:00:00-04'::timestamptz, 'winner', 10),
    (62, 'Senegal', 'Inter-confederation playoff 2 winner', '2026-06-26 15:00:00-04'::timestamptz, 'goal_difference', 30),
    (62, 'Senegal', 'Inter-confederation playoff 2 winner', '2026-06-26 15:00:00-04'::timestamptz, 'score', 50),
    (63, 'Cape Verde', 'Saudi Arabia', '2026-06-26 20:00:00-04'::timestamptz, 'winner', 10),
    (63, 'Cape Verde', 'Saudi Arabia', '2026-06-26 20:00:00-04'::timestamptz, 'goal_difference', 30),
    (63, 'Cape Verde', 'Saudi Arabia', '2026-06-26 20:00:00-04'::timestamptz, 'score', 50),
    (64, 'Uruguay', 'Spain', '2026-06-26 20:00:00-04'::timestamptz, 'winner', 10),
    (64, 'Uruguay', 'Spain', '2026-06-26 20:00:00-04'::timestamptz, 'goal_difference', 30),
    (64, 'Uruguay', 'Spain', '2026-06-26 20:00:00-04'::timestamptz, 'score', 50),
    (65, 'Egypt', 'Iran', '2026-06-26 23:00:00-04'::timestamptz, 'winner', 10),
    (65, 'Egypt', 'Iran', '2026-06-26 23:00:00-04'::timestamptz, 'goal_difference', 30),
    (65, 'Egypt', 'Iran', '2026-06-26 23:00:00-04'::timestamptz, 'score', 50),
    (66, 'New Zealand', 'Belgium', '2026-06-26 23:00:00-04'::timestamptz, 'winner', 10),
    (66, 'New Zealand', 'Belgium', '2026-06-26 23:00:00-04'::timestamptz, 'goal_difference', 30),
    (66, 'New Zealand', 'Belgium', '2026-06-26 23:00:00-04'::timestamptz, 'score', 50),
    (67, 'Panama', 'England', '2026-06-27 17:00:00-04'::timestamptz, 'winner', 10),
    (67, 'Panama', 'England', '2026-06-27 17:00:00-04'::timestamptz, 'goal_difference', 30),
    (67, 'Panama', 'England', '2026-06-27 17:00:00-04'::timestamptz, 'score', 50),
    (68, 'Croatia', 'Ghana', '2026-06-27 17:00:00-04'::timestamptz, 'winner', 10),
    (68, 'Croatia', 'Ghana', '2026-06-27 17:00:00-04'::timestamptz, 'goal_difference', 30),
    (68, 'Croatia', 'Ghana', '2026-06-27 17:00:00-04'::timestamptz, 'score', 50),
    (69, 'Colombia', 'Portugal', '2026-06-27 19:30:00-04'::timestamptz, 'winner', 10),
    (69, 'Colombia', 'Portugal', '2026-06-27 19:30:00-04'::timestamptz, 'goal_difference', 30),
    (69, 'Colombia', 'Portugal', '2026-06-27 19:30:00-04'::timestamptz, 'score', 50),
    (70, 'Inter-confederation playoff 1 winner', 'Uzbekistan', '2026-06-27 19:30:00-04'::timestamptz, 'winner', 10),
    (70, 'Inter-confederation playoff 1 winner', 'Uzbekistan', '2026-06-27 19:30:00-04'::timestamptz, 'goal_difference', 30),
    (70, 'Inter-confederation playoff 1 winner', 'Uzbekistan', '2026-06-27 19:30:00-04'::timestamptz, 'score', 50),
    (71, 'Algeria', 'Austria', '2026-06-27 22:00:00-04'::timestamptz, 'winner', 10),
    (71, 'Algeria', 'Austria', '2026-06-27 22:00:00-04'::timestamptz, 'goal_difference', 30),
    (71, 'Algeria', 'Austria', '2026-06-27 22:00:00-04'::timestamptz, 'score', 50),
    (72, 'Jordan', 'Argentina', '2026-06-27 22:00:00-04'::timestamptz, 'winner', 10),
    (72, 'Jordan', 'Argentina', '2026-06-27 22:00:00-04'::timestamptz, 'goal_difference', 30),
    (72, 'Jordan', 'Argentina', '2026-06-27 22:00:00-04'::timestamptz, 'score', 50),
    (73, 'Group A runner-up', 'Group B runner-up', '2026-06-28 15:00:00-04'::timestamptz, 'winner', 10),
    (73, 'Group A runner-up', 'Group B runner-up', '2026-06-28 15:00:00-04'::timestamptz, 'goal_difference', 30),
    (73, 'Group A runner-up', 'Group B runner-up', '2026-06-28 15:00:00-04'::timestamptz, 'score', 50),
    (74, 'Group E winner', 'Third place from Groups A/B/C/D/F', '2026-06-29 16:30:00-04'::timestamptz, 'winner', 10),
    (74, 'Group E winner', 'Third place from Groups A/B/C/D/F', '2026-06-29 16:30:00-04'::timestamptz, 'goal_difference', 30),
    (74, 'Group E winner', 'Third place from Groups A/B/C/D/F', '2026-06-29 16:30:00-04'::timestamptz, 'score', 50),
    (75, 'Group F winner', 'Group C runner-up', '2026-06-29 21:00:00-04'::timestamptz, 'winner', 10),
    (75, 'Group F winner', 'Group C runner-up', '2026-06-29 21:00:00-04'::timestamptz, 'goal_difference', 30),
    (75, 'Group F winner', 'Group C runner-up', '2026-06-29 21:00:00-04'::timestamptz, 'score', 50),
    (76, 'Group C winner', 'Group F runner-up', '2026-06-29 13:00:00-04'::timestamptz, 'winner', 10),
    (76, 'Group C winner', 'Group F runner-up', '2026-06-29 13:00:00-04'::timestamptz, 'goal_difference', 30),
    (76, 'Group C winner', 'Group F runner-up', '2026-06-29 13:00:00-04'::timestamptz, 'score', 50),
    (77, 'Group I winner', 'Third place from Groups C/D/F/G/H', '2026-06-30 17:00:00-04'::timestamptz, 'winner', 10),
    (77, 'Group I winner', 'Third place from Groups C/D/F/G/H', '2026-06-30 17:00:00-04'::timestamptz, 'goal_difference', 30),
    (77, 'Group I winner', 'Third place from Groups C/D/F/G/H', '2026-06-30 17:00:00-04'::timestamptz, 'score', 50),
    (78, 'Group E runner-up', 'Group I runner-up', '2026-06-30 13:00:00-04'::timestamptz, 'winner', 10),
    (78, 'Group E runner-up', 'Group I runner-up', '2026-06-30 13:00:00-04'::timestamptz, 'goal_difference', 30),
    (78, 'Group E runner-up', 'Group I runner-up', '2026-06-30 13:00:00-04'::timestamptz, 'score', 50),
    (79, 'Group A winner', 'Third place from Groups C/E/F/H/I', '2026-06-30 21:00:00-04'::timestamptz, 'winner', 10),
    (79, 'Group A winner', 'Third place from Groups C/E/F/H/I', '2026-06-30 21:00:00-04'::timestamptz, 'goal_difference', 30),
    (79, 'Group A winner', 'Third place from Groups C/E/F/H/I', '2026-06-30 21:00:00-04'::timestamptz, 'score', 50),
    (80, 'Group L winner', 'Third place from Groups E/H/I/J/K', '2026-07-01 12:00:00-04'::timestamptz, 'winner', 10),
    (80, 'Group L winner', 'Third place from Groups E/H/I/J/K', '2026-07-01 12:00:00-04'::timestamptz, 'goal_difference', 30),
    (80, 'Group L winner', 'Third place from Groups E/H/I/J/K', '2026-07-01 12:00:00-04'::timestamptz, 'score', 50),
    (81, 'Group D winner', 'Third place from Groups B/E/F/I/J', '2026-07-01 20:00:00-04'::timestamptz, 'winner', 10),
    (81, 'Group D winner', 'Third place from Groups B/E/F/I/J', '2026-07-01 20:00:00-04'::timestamptz, 'goal_difference', 30),
    (81, 'Group D winner', 'Third place from Groups B/E/F/I/J', '2026-07-01 20:00:00-04'::timestamptz, 'score', 50),
    (82, 'Group G winner', 'Third place from Groups A/E/H/I/J', '2026-07-01 16:00:00-04'::timestamptz, 'winner', 10),
    (82, 'Group G winner', 'Third place from Groups A/E/H/I/J', '2026-07-01 16:00:00-04'::timestamptz, 'goal_difference', 30),
    (82, 'Group G winner', 'Third place from Groups A/E/H/I/J', '2026-07-01 16:00:00-04'::timestamptz, 'score', 50),
    (83, 'Group K runner-up', 'Group L runner-up', '2026-07-02 19:00:00-04'::timestamptz, 'winner', 10),
    (83, 'Group K runner-up', 'Group L runner-up', '2026-07-02 19:00:00-04'::timestamptz, 'goal_difference', 30),
    (83, 'Group K runner-up', 'Group L runner-up', '2026-07-02 19:00:00-04'::timestamptz, 'score', 50),
    (84, 'Group H winner', 'Group J runner-up', '2026-07-02 15:00:00-04'::timestamptz, 'winner', 10),
    (84, 'Group H winner', 'Group J runner-up', '2026-07-02 15:00:00-04'::timestamptz, 'goal_difference', 30),
    (84, 'Group H winner', 'Group J runner-up', '2026-07-02 15:00:00-04'::timestamptz, 'score', 50),
    (85, 'Group B winner', 'Third place from Groups E/F/G/I/J', '2026-07-02 23:00:00-04'::timestamptz, 'winner', 10),
    (85, 'Group B winner', 'Third place from Groups E/F/G/I/J', '2026-07-02 23:00:00-04'::timestamptz, 'goal_difference', 30),
    (85, 'Group B winner', 'Third place from Groups E/F/G/I/J', '2026-07-02 23:00:00-04'::timestamptz, 'score', 50),
    (86, 'Group J winner', 'Group H runner-up', '2026-07-03 18:00:00-04'::timestamptz, 'winner', 10),
    (86, 'Group J winner', 'Group H runner-up', '2026-07-03 18:00:00-04'::timestamptz, 'goal_difference', 30),
    (86, 'Group J winner', 'Group H runner-up', '2026-07-03 18:00:00-04'::timestamptz, 'score', 50),
    (87, 'Group K winner', 'Third place from Groups D/E/I/J/L', '2026-07-03 21:30:00-04'::timestamptz, 'winner', 10),
    (87, 'Group K winner', 'Third place from Groups D/E/I/J/L', '2026-07-03 21:30:00-04'::timestamptz, 'goal_difference', 30),
    (87, 'Group K winner', 'Third place from Groups D/E/I/J/L', '2026-07-03 21:30:00-04'::timestamptz, 'score', 50),
    (88, 'Group D runner-up', 'Group G runner-up', '2026-07-03 14:00:00-04'::timestamptz, 'winner', 10),
    (88, 'Group D runner-up', 'Group G runner-up', '2026-07-03 14:00:00-04'::timestamptz, 'goal_difference', 30),
    (88, 'Group D runner-up', 'Group G runner-up', '2026-07-03 14:00:00-04'::timestamptz, 'score', 50),
    (89, 'Winner of Match 74', 'Winner of Match 77', '2026-07-04 17:00:00-04'::timestamptz, 'winner', 10),
    (89, 'Winner of Match 74', 'Winner of Match 77', '2026-07-04 17:00:00-04'::timestamptz, 'goal_difference', 30),
    (89, 'Winner of Match 74', 'Winner of Match 77', '2026-07-04 17:00:00-04'::timestamptz, 'score', 50),
    (90, 'Winner of Match 73', 'Winner of Match 75', '2026-07-04 13:00:00-04'::timestamptz, 'winner', 10),
    (90, 'Winner of Match 73', 'Winner of Match 75', '2026-07-04 13:00:00-04'::timestamptz, 'goal_difference', 30),
    (90, 'Winner of Match 73', 'Winner of Match 75', '2026-07-04 13:00:00-04'::timestamptz, 'score', 50),
    (91, 'Winner of Match 76', 'Winner of Match 78', '2026-07-05 16:00:00-04'::timestamptz, 'winner', 10),
    (91, 'Winner of Match 76', 'Winner of Match 78', '2026-07-05 16:00:00-04'::timestamptz, 'goal_difference', 30),
    (91, 'Winner of Match 76', 'Winner of Match 78', '2026-07-05 16:00:00-04'::timestamptz, 'score', 50),
    (92, 'Winner of Match 79', 'Winner of Match 80', '2026-07-05 20:00:00-04'::timestamptz, 'winner', 10),
    (92, 'Winner of Match 79', 'Winner of Match 80', '2026-07-05 20:00:00-04'::timestamptz, 'goal_difference', 30),
    (92, 'Winner of Match 79', 'Winner of Match 80', '2026-07-05 20:00:00-04'::timestamptz, 'score', 50),
    (93, 'Winner of Match 83', 'Winner of Match 84', '2026-07-06 15:00:00-04'::timestamptz, 'winner', 10),
    (93, 'Winner of Match 83', 'Winner of Match 84', '2026-07-06 15:00:00-04'::timestamptz, 'goal_difference', 30),
    (93, 'Winner of Match 83', 'Winner of Match 84', '2026-07-06 15:00:00-04'::timestamptz, 'score', 50),
    (94, 'Winner of Match 81', 'Winner of Match 82', '2026-07-06 20:00:00-04'::timestamptz, 'winner', 10),
    (94, 'Winner of Match 81', 'Winner of Match 82', '2026-07-06 20:00:00-04'::timestamptz, 'goal_difference', 30),
    (94, 'Winner of Match 81', 'Winner of Match 82', '2026-07-06 20:00:00-04'::timestamptz, 'score', 50),
    (95, 'Winner of Match 86', 'Winner of Match 88', '2026-07-07 12:00:00-04'::timestamptz, 'winner', 10),
    (95, 'Winner of Match 86', 'Winner of Match 88', '2026-07-07 12:00:00-04'::timestamptz, 'goal_difference', 30),
    (95, 'Winner of Match 86', 'Winner of Match 88', '2026-07-07 12:00:00-04'::timestamptz, 'score', 50),
    (96, 'Winner of Match 85', 'Winner of Match 87', '2026-07-07 16:00:00-04'::timestamptz, 'winner', 10),
    (96, 'Winner of Match 85', 'Winner of Match 87', '2026-07-07 16:00:00-04'::timestamptz, 'goal_difference', 30),
    (96, 'Winner of Match 85', 'Winner of Match 87', '2026-07-07 16:00:00-04'::timestamptz, 'score', 50),
    (97, 'Winner of Match 89', 'Winner of Match 90', '2026-07-09 16:00:00-04'::timestamptz, 'winner', 10),
    (97, 'Winner of Match 89', 'Winner of Match 90', '2026-07-09 16:00:00-04'::timestamptz, 'goal_difference', 30),
    (97, 'Winner of Match 89', 'Winner of Match 90', '2026-07-09 16:00:00-04'::timestamptz, 'score', 50),
    (98, 'Winner of Match 93', 'Winner of Match 94', '2026-07-10 15:00:00-04'::timestamptz, 'winner', 10),
    (98, 'Winner of Match 93', 'Winner of Match 94', '2026-07-10 15:00:00-04'::timestamptz, 'goal_difference', 30),
    (98, 'Winner of Match 93', 'Winner of Match 94', '2026-07-10 15:00:00-04'::timestamptz, 'score', 50),
    (99, 'Winner of Match 91', 'Winner of Match 92', '2026-07-11 17:00:00-04'::timestamptz, 'winner', 10),
    (99, 'Winner of Match 91', 'Winner of Match 92', '2026-07-11 17:00:00-04'::timestamptz, 'goal_difference', 30),
    (99, 'Winner of Match 91', 'Winner of Match 92', '2026-07-11 17:00:00-04'::timestamptz, 'score', 50),
    (100, 'Winner of Match 95', 'Winner of Match 96', '2026-07-11 21:00:00-04'::timestamptz, 'winner', 10),
    (100, 'Winner of Match 95', 'Winner of Match 96', '2026-07-11 21:00:00-04'::timestamptz, 'goal_difference', 30),
    (100, 'Winner of Match 95', 'Winner of Match 96', '2026-07-11 21:00:00-04'::timestamptz, 'score', 50),
    (101, 'Winner of Match 97', 'Winner of Match 98', '2026-07-14 15:00:00-04'::timestamptz, 'winner', 10),
    (101, 'Winner of Match 97', 'Winner of Match 98', '2026-07-14 15:00:00-04'::timestamptz, 'goal_difference', 30),
    (101, 'Winner of Match 97', 'Winner of Match 98', '2026-07-14 15:00:00-04'::timestamptz, 'score', 50),
    (102, 'Winner of Match 99', 'Winner of Match 100', '2026-07-15 15:00:00-04'::timestamptz, 'winner', 10),
    (102, 'Winner of Match 99', 'Winner of Match 100', '2026-07-15 15:00:00-04'::timestamptz, 'goal_difference', 30),
    (102, 'Winner of Match 99', 'Winner of Match 100', '2026-07-15 15:00:00-04'::timestamptz, 'score', 50),
    (103, 'Loser of Match 101', 'Loser of Match 102', '2026-07-18 17:00:00-04'::timestamptz, 'winner', 10),
    (103, 'Loser of Match 101', 'Loser of Match 102', '2026-07-18 17:00:00-04'::timestamptz, 'goal_difference', 30),
    (103, 'Loser of Match 101', 'Loser of Match 102', '2026-07-18 17:00:00-04'::timestamptz, 'score', 50),
    (104, 'Winner of Match 101', 'Winner of Match 102', '2026-07-19 15:00:00-04'::timestamptz, 'winner', 10),
    (104, 'Winner of Match 101', 'Winner of Match 102', '2026-07-19 15:00:00-04'::timestamptz, 'goal_difference', 30),
    (104, 'Winner of Match 101', 'Winner of Match 102', '2026-07-19 15:00:00-04'::timestamptz, 'score', 50)
  )
  , target_matches as (
    select m.id as match_id, r.contract_type, r.blind
    from public.matches m
    join match_refs r on r.match_number = m.match_number
  )
  , inserted as (
    insert into public.contracts (match_id, type)
    select tm.match_id, tm.contract_type::contract_type
    from target_matches tm
    on conflict (match_id, type) do update set type = excluded.type
    returning id as contract_id, match_id, type
  )
  insert into public.contract_challenge_states (contract_id, challenge_id, blind)
  select i.contract_id, v_challenge_id, tm.blind
  from inserted i
  join target_matches tm on tm.match_id = i.match_id and tm.contract_type::contract_type = i.type
  on conflict (contract_id, challenge_id) do update set blind = excluded.blind;

end;
$$;
